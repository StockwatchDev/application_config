
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="For providing a python application or library with configuration and/or settings">
      
      
      
        <link rel="canonical" href="https://stockwatchdev.github.io/application_settings/3-Files/">
      
      
        <link rel="prev" href="../2-Defining_parameters/">
      
      
        <link rel="next" href="../4-Using_parameters/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.3">
    
    
      
        <title>3. Files and file locations - application_settings</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.79e020e9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a5377069.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#files-and-file-location" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="application_settings" class="md-header__button md-logo" aria-label="application_settings" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            application_settings
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3. Files and file locations
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/StockwatchDev/application_settings" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    StockwatchDev/application_settings
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="application_settings" class="md-nav__button md-logo" aria-label="application_settings" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    application_settings
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/StockwatchDev/application_settings" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    StockwatchDev/application_settings
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../Quick_start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick start
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../1-Installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../2-Defining_parameters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Defining parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    3. Files and file locations
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    3. Files and file locations
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#files-for-storing-parameters" class="md-nav__link">
    Files for storing parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#location-name-and-type-of-the-file" class="md-nav__link">
    Location, name and type of the file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-the-filepath-via-command-line-arguments" class="md-nav__link">
    Setting the filepath via command-line arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-filenotfounderror" class="md-nav__link">
    Handling FileNotFoundError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharing-parameters-over-different-configs-via-file-inclusion-with-toml" class="md-nav__link">
    Sharing parameters over different configs via file inclusion with toml
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../4-Using_parameters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Using parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../5-Usage_in_a_library_package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Usage in a library package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../6-Handling_deviations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Handling deviations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../7-Recipes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Recipes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Code Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    application_settings
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            application_settings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/application_settings/__init__/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
      init  
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/application_settings/configuring_base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    configuring_base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/application_settings/container_base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    container_base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/application_settings/container_section_base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    container_section_base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/application_settings/convenience/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    convenience
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_6" >
        
          
          <label class="md-nav__link" for="__nav_5_1_6" id="__nav_5_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    private
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_6">
            <span class="md-nav__icon md-icon"></span>
            private
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/application_settings/private/__init__/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
      init  
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/application_settings/private/_file_operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    _file_operations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/application_settings/settings_base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    settings_base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reference/application_settings/type_notation_helper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    type_notation_helper
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#files-for-storing-parameters" class="md-nav__link">
    Files for storing parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#location-name-and-type-of-the-file" class="md-nav__link">
    Location, name and type of the file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-the-filepath-via-command-line-arguments" class="md-nav__link">
    Setting the filepath via command-line arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-filenotfounderror" class="md-nav__link">
    Handling FileNotFoundError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharing-parameters-over-different-configs-via-file-inclusion-with-toml" class="md-nav__link">
    Sharing parameters over different configs via file inclusion with toml
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="files-and-file-location">Files and file location</h1>
<h2 id="files-for-storing-parameters">Files for storing parameters</h2>
<p>A Container class defines a root section and provides for behavior to load parameter
values from files and, in case of settings, store updated values to files.</p>
<p>Currently, two formats are supported for persistent storage of parameters:
<a href="https://toml.io/en/"><code>toml</code></a> and <a href="https://www.json.org/"><code>json</code></a>.</p>
<p>The <code>toml</code> format is human-oriented, flexible, standardardized and not overly complex.
It supports comments, and hence parameters can be easily documented in a toml file.
However, when parameters are initialized by reading from a toml file, then changed
(because it concerns settings) and subsequently written to file again for persistance,
the comments will be lost. Therefore, it does not make much sense to add documenting
comments to a settings file. Because config parameters are read-only, comments in a
config file will not get lost and do make sense. Because of this, the default format for
storing config parameters is <code>toml</code>. The name of a config file equals <code>config.toml</code> by
default.</p>
<p>JSON is a standardized, lightweight data-interchange format that is easy for machines to
parse and generate. It is a bit less straightforward to document parameters in this
format, which makes it less human-oriented than <code>toml</code>, but it is used widely for data
interchange between automated systems. Because of this, the default format for storing
settings parameters is <code>json</code>. The name of a settings file equals <code>settings.json</code> by
default.</p>
<p>The examples introduced in the previous chapter can for example be initialized with the
following files.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1"><code>config.toml</code> file for the configuration example</label><label for="__tabbed_1_2"><code>settings.json</code> file for the settings example</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Use this file to set the config that you prefer by editing the file</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;application specific name&quot;</span>
<span class="k">[section1]</span>
<span class="c1"># field1 has default value 0.5</span>
<span class="n">field1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-0</span><span class="mf">.5</span>
<span class="c1"># field2 has default value 2</span>
<span class="n">field2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;the stored name&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;basics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;totals&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>The field names of a Container class are found as:</p>
<ul>
<li>the root parameter names and the section names in the <code>toml</code> file</li>
<li>the member names of the root object in the <code>json</code> file</li>
</ul>
<p>The field names of a Section class are found as:</p>
<ul>
<li>the parameter names inside the corresponding section in the <code>toml</code> file</li>
<li>the member names of the object that is the value of the name that represents the
  section in the <code>json</code> file</li>
</ul>
<p>The order of sections and/or fields in the file does not have to adhere to the order
in which fields have been specified in the Container - or Section classes.</p>
<p>Presence of sections and/or fields in the files that are not defined in the classes goes
by silently.</p>
<p>Fields or complete sections defined in the classes can be absent in the files as long as
default values have been specified for all fields that have been left out. For more info
on data validation <a href="../6-Handling_deviations/">click here</a></p>
<h2 id="location-name-and-type-of-the-file">Location, name and type of the file</h2>
<p>By default, the config and settings files are located in a subfolder of the home folder of
the user running the application. The default name of that subfolder is provided by the
<code>default_foldername()</code> method and consists of a dot, followed by a name derived from your
container class: the word <code>Config</code>/<code>Settings</code> is removed, underscores are put in front of
capitals (except for the first letter) and all letters are made lower case. For example,
the Container class <code>MyExampleConfig</code> by default will store its config in
<code>~/.my_example/config.toml</code>. And <code>MyExampleSettings</code> will default to a settings file
<code>~/.my_example/settings.json</code>.</p>
<p>If you want the files to be stored in a different location and/or have a different name
and/or change the format, then you can use the method <code>set_filepath</code>. If you invoke this
method but you have already instantiated the parameters via <code>load()</code> or <code>get()</code>, then you
most likely want to reload them. You can do so by setting an argument <code>load=True</code> in
<code>set_filepath</code>. If you invoke this function after parameters have been instantiated and
do not set <code>load=True</code>, then a warning is printed. Example:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># the next statement sets the location, name and format of the settings file</span>
<span class="c1"># the argument can be eiter a string or a Path</span>
<span class="n">MyExampleSettings</span><span class="o">.</span><span class="n">set_filepath</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\ProgramData\testsettings.toml&quot;</span><span class="p">)</span>
<span class="c1"># the next statement loads the settings</span>
<span class="n">MyExampleSettings</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="c1"># the next statement sets a new name for the settings file and reloads it</span>
<span class="n">MyExampleSettings</span><span class="o">.</span><span class="n">set_filepath</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\ProgramData\productionsettings.toml&quot;</span><span class="p">,</span> <span class="n">load</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># the next statement resets the filepath to the default, doesn&#39;t load but generates a warning</span>
<span class="n">MyExampleSettings</span><span class="o">.</span><span class="n">set_filepath</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div>
<p>The extension of the file is used to select the format for parsing and hence has to be
either <code>json</code>, <code>JSON</code>, <code>toml</code> or <code>TOML</code>.</p>
<h2 id="setting-the-filepath-via-command-line-arguments">Setting the filepath via command-line arguments</h2>
<p>A quite common scenario is to launch an application from the command-line and to specify
the config file and/or settings file as argument(s). Convenience functions are available
to support this using the <a href="https://docs.python.org/3/library/argparse.html">argparse</a>
module from the standard library:</p>
<ul>
<li>a function <code>config_filepath_from_cli</code> is available that will define a command-line
  argument that takes exactly one additional argument, namely the config filepath.
  You have to specify the Config class when calling this function, and you may
  pass a parser (default: the main argument parser) and your own short option
  (default: <code>"-c"</code>) and long option (default:  <code>"--config_filepath"</code>) and you may
  set <code>load=True</code> (default: <code>False</code>). If the option is
  indeed supplied when the application is launched, then the config filepath is set using
  <code>set_filepath</code> and the value for <code>load</code> is passed into this function.</li>
<li>a function <code>settings_filepath_from_cli</code> is available that will define a command-line
  argument that takes exactly one additional argument, namely the
  settings filepath. You have to specify the Settings class when calling this function,
  and you may pass a parser (default: the main argument parser) and your own short option
  (default: <code>"-s"</code>) and long option (default:  <code>"--settings_filepath"</code>) and you may set
  <code>load=True</code> (default: <code>False</code>). If the option is
  indeed supplied when the application is launched, then the config filepath is set using
  <code>set_filepath</code> and the value for <code>load</code> is passed into this function.</li>
<li>a function <code>parameters_folderpath_from_cli</code> is also available and comes in handy when
  you have a config file and a settings file in the same folder. This function will
  define a command-line argument that takes exactly one
  additional argument, namely the path of the <em>folder</em> that holds both files. Note that
  this implies that the config- and settings file have to have the default filename. You
  have to specify both the Settings class and the Config class when calling this function,
  and you may pass a parser (default: the main argument parser) and your own short option
  (default: <code>"-p"</code>) and long option (default:  <code>"--parameters_folderpath"</code>) and you may
  set <code>load=True</code> (default: <code>False</code>). If the option is
  indeed supplied when the application is launched, then the config and the settings
  filepath are set using <code>set_filepath</code> and the value for <code>load</code> is passed into these
  functions.</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">CLI for config filepath</label><label for="__tabbed_2_2">CLI for settings filepath</label><label for="__tabbed_2_3">CLI for common config and settings folder</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">application_settings</span> <span class="kn">import</span> <span class="n">config_filepath_from_cli</span>

<span class="c1"># The next line defines a cli argument &quot;-c&quot; and &quot;--config_filepath&quot;</span>
<span class="c1"># and specifies that the config should be loaded when it is specified</span>
<span class="n">config_filepath_from_cli</span><span class="p">(</span><span class="n">MyExampleConfig</span><span class="p">,</span> <span class="n">load</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># the application launch with config file spec could be something like:</span>
<span class="c1"># application_name -c C:\ProgramData\productionconfig.toml</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">application_settings</span> <span class="kn">import</span> <span class="n">settings_filepath_from_cli</span>

<span class="c1"># The next line defines a cli argument &quot;-s&quot; and &quot;--settings_filepath&quot;</span>
<span class="c1"># and specifies that the settings should be loaded when it is specified</span>
<span class="n">settings_filepath_from_cli</span><span class="p">(</span><span class="n">MyExampleSettings</span><span class="p">,</span> <span class="n">load</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># the application launch with settings file spec could be something like:</span>
<span class="c1"># application_name -s C:\ProgramData\productionsettings.json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">application_settings</span> <span class="kn">import</span> <span class="n">parameters_folderpath_from_cli</span>

<span class="c1"># The next line defines a cli argument &quot;-p&quot; and &quot;--parameters_folderpath&quot;</span>
<span class="c1"># and specifies that the config and settings should be loaded when it is specified</span>
<span class="n">parameters_folderpath_from_cli</span><span class="p">(</span><span class="n">MyExampleConfig</span><span class="p">,</span> <span class="n">MyExampleSettings</span><span class="p">,</span> <span class="n">load</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># the application launch with folder spec could be something like:</span>
<span class="c1"># application_name -p C:\ProgramData</span>
</code></pre></div>
</div>
</div>
</div>
<p>It is good practice make a separate module that defines the container class and the
sections and to add both the convenience function for setting the filepath via the
cli and the <code>load</code> statement in that module.
<a href="../7-Recipes/#initialization-needs-to-depend-on-configuration">This may help to prevent initialization problems.</a></p>
<h2 id="handling-filenotfounderror">Handling FileNotFoundError</h2>
<p>When loading a parameter file, you have a choice what should happen when the parameter
file is not found in the location that has been specified:</p>
<ul>
<li>if you <code>load(throw_if_file_not_found = False)</code>, then the <code>FileNotFoundError</code> is
  catched by <code>application_settings</code>, an error message is generated and program flow is
  continued by trying to instantiate the config / settings using default values. If you
  have defined parameters without default values, a TypeError exception will be raised.</li>
<li>if you <code>load(throw_if_file_not_found = True)</code>, then the <code>FileNotFoundError</code> exception
  is thrown and the application can decide how this situation should be handled.</li>
</ul>
<p>The default value for <code>throw_if_file_not_found</code> is <code>False</code>, hence <code>load()</code> will not throw
an exception when the parameter file is not found. Note that if you do not explicitly
use <code>load</code> but rather implicitly call it via <code>get()</code> or <code>set_filepath()</code>, then this
default behavior will also be obtained.</p>
<h2 id="sharing-parameters-over-different-configs-via-file-inclusion-with-toml">Sharing parameters over different configs via file inclusion with toml</h2>
<p>Another common scenario is that you work with different configurations for your
application but these different configurations are partially the same. To prevent
inconsistencies and config duplication, it is desirable to be able to share the common
part. For this purpose, <code>application_settings</code> provides a file inclusion mechanism
for <code>toml</code> configuration files.</p>
<p>Above, an example of such a config file was given. Suppose now that you want to create
several configurations that have a varying <code>name</code> but they will share the parametrization
<code>section1</code>. Then we can put that part in a file <code>config_common.toml</code> and include that
file from the different configurations.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1"><code>config.toml</code> file for the configuration example</label><label for="__tabbed_3_2"><code>config_common.toml</code> (in the same folder)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># Use this file to set the config that you prefer by editing the file</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;application specific name&quot;</span>
<span class="n">__include__</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;./config_common.toml&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">[section1]</span>
<span class="c1"># field1 has default value 0.5</span>
<span class="n">field1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-0</span><span class="mf">.5</span>
<span class="c1"># field2 has default value 2</span>
<span class="n">field2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span>
</code></pre></div>
</div>
</div>
</div>
<p>The file inclusion mechanism has been kept simple; the following rules apply:</p>
<ul>
<li>The key to use for specifying a file to include is <code>__include__</code>; hence, this key is
  to be treated as a keyword and is not available as field name.</li>
<li>The value can be either a single path string or an array of path strings.</li>
<li>File inclusion can only be specified at the top level, not inside a section.</li>
<li>File inclusion is only available for configuration, not for settings, and only for the
  <code>toml</code> format.</li>
<li>File inclusion can be nested, i.e., in the included <code>toml</code> file one can again specify
  another file to include (albeit at the top level only).</li>
<li>If the included file specifies a key that was already specified in the file that does
  the inclusion, then it is disregarded and the key-value pair of the latter file is
  kept.</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6eac0284.min.js"></script>
      
    
  </body>
</html>